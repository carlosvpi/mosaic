!function e(t,n,i){function o(s,l){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!l&&a)return a(s,!0);if(r)return r(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return o(t[s][1][e]||e)}),c,c.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Mosaic=void 0;const i=e("./Tile");n.Mosaic=(e,...t)=>{let n;if(Array.isArray(e)){const o=e[0].match(/^\s*([a-zA-Z\-_]+)\s*/);if(!o)throw new Error(`Expected a tag name, reading "${e.join("")}"[0]`);let r=o[0].length,s=0;const l={},[a,d]=o;n=new i.Tile(d);let c=e[0].slice(o[0].length);if(c.length&&"["!==c[0])throw new Error(`Expected "[", reading "${e.join("")}"[${r}]`);for(c=c.slice(1),r++;c.length;){const n=c.match(/^\s*([a-zA-Z\-_]+)\s*/);if(!n)throw new Error(`Expected an attribute name, reading "${e.join("")}"[${r}]`);r+=n[0].length;const[i,o]=n;if(c=c.slice(n[0].length),"]"===c[0]){l[o]=!0;break}if(";"===c[0]){l[o]=!0,c=c.slice(1);continue}if("="!==c[0])throw new Error(`Expected ["=", "]", ";"], reading "${e.join("")}"[${r}]`);c=c.slice(1),r++;const a=c.match(/^\s*([a-zA-Z\-_0-9\'\"]+)\s*/);if(a){r+=a[0].length;const[t,n]=a;if(c=c.slice(a[0].length),l[o]=n,"]"===c[0])break;if(";"!==c[0])throw new Error(`Expected ["]", ";"], reading "${e.join("")}"[${r}]`);c=c.slice(1),r++}else{l[o]=t[s],s++,c+=e[s];const[n]=c.match(/^\s*/);if(c=c.slice(n.length),r+=n.length,"]"===c[0])break;if(";"!==c[0])throw new Error(`Expected ["]", ";"], reading "${e.join("")}"[${r}]`);c=c.slice(1),r++}}Object.keys(l).forEach((e=>{"function"==typeof l[e]?l[e]((t=>n.attr(e,t))):n.attr(e,l[e])}))}else n=new i.Tile(e);return(...e)=>"function"==typeof e[0]?(e[0]((e=>n.children(e))),n):n.children(e)}},{"./Tile":2}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TextTile=n.Tile=n.svgElements=void 0,n.svgElements=["animate","animatecolor","animatemotion","animatetransform","set","circle","ellipse","image","line","path","polygon","polyline","rect","text","defs","glyph","g","marker","mask","missing-glyph","pattern","switch","symbol","desc","filter","feBlend","feColorMatrix","feComponentTransfer","feFuncR","feFuncG","feFuncB","feFuncA","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","feDistantLight","fePointLight","feSpotlight","linearGradient","radialGradient","altGlyph","textPath","tref","tspan"];class i{constructor(e,t=!1){this.node="string"==typeof e?t?document.createTextNode(e):n.svgElements.includes(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e):e}attr(e,t){return this.node instanceof Text?this:void 0===t?this.node.getAttribute(e):(!1===t?this.node.removeAttribute(e):this.node.setAttribute(e,t),this)}attrs(e){const t=this.node;return t instanceof Text?this:void 0===e?t.getAttributeNames().reduce(((e,n)=>(e[n]=t.getAttribute(n),e)),{}):(Object.keys(e).forEach((t=>{this.attr(t,e[t])})),this)}text(e){return void 0===e?this.node.textContent:(this.node instanceof Text?this.node.textContent=e:this.node.appendChild(document.createTextNode(e)),this)}on(e,t,n=!1){return this.node.addEventListener(e,t.bind(this.node),n),this}tap(e){return e(this),this}classed(e,t){return this.node instanceof Text?this:void 0===e?Array.prototype.slice.call(this.node.classList):void 0===t&&"string"==typeof e?this.node.classList.contains(e):"object"==typeof e?(Object.keys(e).forEach((t=>{this.classed(t,e[t])})),this):"function"==typeof t?(t((t=>this.classed(e,t))),this):(this.node.classList[t?"add":"remove"](e),this)}append(e){const t=e instanceof i?e:new i(e);return this.node.childNodes[this.node.childNodes.length-1]!==t.node&&this.node.appendChild(t.node),t}children(e=[]){const t=this.node;if(t instanceof Text)return this;let n=Array.prototype.slice.call(t.childNodes);const i=e.map((e=>e.node));if(n.length+i.length===0)return this;n.filter((e=>!i.includes(e))).forEach((e=>t.removeChild(e))),n=Array.prototype.slice.call(t.childNodes);let o,r=i.length-1;for(;!n.includes(i[r])&&r>=0;)r--;for(o=r;r++<i.length-1;)t.appendChild(i[r]);for(let e=o-1;e>=0;e--)n.includes(i[e])?(n.indexOf(i[e])!==n.indexOf(i[o])-1&&t.insertBefore(i[e],i[e+1]),o=e):t.insertBefore(i[e],i[e+1]);return this}adopt(e){return this.append(e),this}moveToBottom(){return this.node.parentElement.insertBefore(this.node,this.node.parentElement.children[0]),this}moveBelow(e){const t=e?e.node:this.node.parentElement.previousElementSibling;return this.node.parentElement.insertBefore(this.node,t),this}moveToTop(){return this.node.parentElement.appendChild(this.node),this}moveAbove(e){var t;const n=e?e.node.nextElementSibling:null===(t=this.node.nextElementSibling)||void 0===t?void 0:t.nextElementSibling;return n?this.node.parentElement.insertBefore(this.node,n):this.node.parentElement.appendChild(this.node),this}remove(){this.node.parentElement.removeChild(this.node)}}n.Tile=i;n.TextTile=e=>new i(e,!0)},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Mosaic=n.Tile=void 0;var i=e("./Tile");Object.defineProperty(n,"Tile",{enumerable:!0,get:function(){return i.Tile}});var o=e("./Mosaic");Object.defineProperty(n,"Mosaic",{enumerable:!0,get:function(){return o.Mosaic}})},{"./Mosaic":1,"./Tile":2}]},{},[3]);
